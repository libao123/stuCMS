<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title></title>
		<meta http-equiv="content-type" content="no-cache, must-revalidate" />
		<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
		<!-- Bootstrap 3.3.6 -->
  		<link rel="stylesheet" href="../common/js/bootstrap/css/bootstrap.min.css" />
  		<!-- Font Awesome -->
  		<link rel="stylesheet" href="../common/css/font-awesome.min.css" />
  		<!-- Ionicons -->
  		<link rel="stylesheet" href="../common/css/ionicons.min.css" />
  		<!-- Theme style -->
			<link rel="stylesheet" href="../common/css/AdminLTE.min.css" />
	  	<!-- AdminLTE Skins. Choose a skin from the css/skins folder instead of downloading all of them to reduce the load. -->
	  	<link rel="stylesheet" href="../common/css/skins/_all-skins.min.css" />
	  	<!-- daterange picker -->
	  	<!-- iCheck -->
			<link rel="stylesheet" href="../common/plugins/iCheck/square/blue.css" />
			<!-- <link rel="stylesheet" href="../common/plugins/iCheck/all.css" /> -->
	  	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	  	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	  	<!--[if lt IE 9]>
	  	<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
	  	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	  	<![endif]-->
	</head>
	<body class="hold-transition login-page">
	<div class="register-box" id="content">
		<div class="register-logo">
    		<a href="#">大学生学工系统<b></b></a>
  		</div>
  		<!-- register-logo -->
  		<div class="register-box-body" id="tableModal">
		    <p class="login-box-msg">忘记密码</p>

					<form action="#" method="post">
		      	<!-- <div class="form-group has-feedback">
			        <input type="text" class="form-control" placeholder="姓名" name="user" />
			        <span class="glyphicon glyphicon-user form-control-feedback"></span>
		      	</div> -->
		      	<div class="form-group has-feedback">
			        <input type="email" class="form-control" placeholder="邮箱" name="email" />
			        <span class="glyphicon glyphicon-envelope form-control-feedback"></span>
		      	</div>
		      	<div class="row">
			        <div class="col-xs-8">
								&nbsp;
			        </div>
			        <div class="col-xs-4">
			          	<button type="button" class="btn btn-primary btn-block btn-flat btn-register" style="font-size: 12px;">提交</button>
			        </div>
		      	</div>
		    </form>
		    <!-- /.social-auth-links -->

			<a href="login.html" class="text-center">登陆</a>
		</div>
	</div>

		<!-- jQuery 2.2.3 -->
		<script src="../common/js/jquery/jquery-2.2.3.min.js"></script>
		<!-- Bootstrap 3.3.6 -->
		<script src="../common/js/bootstrap/js/bootstrap.min.js"></script>
		<!-- iCheck -->
		<script src="../common/plugins/iCheck/icheck.min.js"></script>
		<!-- AdminLTE App -->
		<script src="../common/plugins/validate/jquery.validate.min.js"></script>
		<script src="../common/js/common.js"></script>
		<script src="../common/js/modal.control.js"></script>
		<script type="text/javascript">
		  $(function () {
			  $('input').iCheck({
			  	checkboxClass: 'icheckbox_square-blue pull-left',
			  	radioClass: 'iradio_square-blue',
			  	increaseArea: '20%' // optional
			  });

				$dataModal.controls({
	        "content":	"content",
	        "modal":    "tableModal",//弹出层id
	        "modalAction":  "/register.aspx",//弹出层url
	        "submitType":"form",//form或者ajax
	        "submitBtn":  ".btn-register",
	        "submitCallback":function(btn){

					},//ajax下自定义ajax方法,如果
	        "valiConfig":{
	          model:	'#tableModal form',
	          validate:[
	            {'name':'email', 'tips':'邮箱必填'},
	          ],
	          callback:function(form){
							var _data = {};
							var _form = $("#tableModal form");
							_form.find('input').each(function(){
								var _t = $(this);
								if(_t.attr('name') != undefined && _t.attr('name') != ""){
									_data[_t.attr('name')] = _t.val();
								}
							});
							$.ajax({
		            type:			'get',
		            data:			_data,
		            dataType:	'JSON',
		            url:			_form.attr('action'),
		            success:	function(res){
									console.log(res);
									//提示
									easyAlert.timeShow({
								    	'type':	'info',
								    	'content':	'邮件已发送，请去邮箱查收',
								    	'duration':	3,
								  });
									setTimeout(function(){
										window.location.href = "login.html";
									}, 2000);
		            },
		            error:    function(e){
		              console.log(e);
		            }
		          });
							// form.submit();
						},//验证成功后的操作
	        }
	      });
		  });
		</script>
	</body>
</html>
