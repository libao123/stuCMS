<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>新生录入管理</title>
		<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
		<!-- Bootstrap 3.3.6 -->
  		<link rel="stylesheet" href="../common/js/bootstrap/css/bootstrap.min.css" />
  		<!-- Font Awesome -->
  		<link rel="stylesheet" href="../common/css/font-awesome.min.css" />
  		<!-- Ionicons -->
  		<link rel="stylesheet" href="../common/css/ionicons.min.css" />
  		<!-- Theme style -->
			<link rel="stylesheet" href="../common/css/AdminLTE.min.css" />
	  	<!-- AdminLTE Skins. Choose a skin from the css/skins folder instead of downloading all of them to reduce the load. -->
	  	<link rel="stylesheet" href="../common/css/skins/_all-skins.min.css" />
	  	<!-- daterange picker -->
			<!-- //TODO 注意 time控件需要加入css文件 -->
			<link rel="stylesheet" href="../common/plugins/datepicker/datepicker3.css" />
  		<link rel="stylesheet" href="../common/plugins/daterangepicker/daterangepicker.css" />
  		<!-- DataTables -->
  		<link rel="stylesheet" href="../common/plugins/datatables/dataTables.bootstrap.css" />
			<link rel="stylesheet" href="../common/plugins/datatables/dataTables.responsive.css" />
  		<!-- iCheck for checkboxes and radio inputs -->
  		<link rel="stylesheet" href="../common/plugins/iCheck/all.css" />
		<!-- bootstrap wysihtml5 - text editor -->
  		<!--<link rel="stylesheet" href="../common/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css">-->
	  	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	  	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	  	<!--[if lt IE 9]>
	  	<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
	  	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	  	<![endif]-->
	  	<style type="text/css">
	  		td, th{
	  			max-width: 500px;
					word-break:break-all;
	  		}
	  		.content-wrapper{
	  			position: relative;
	  			margin-left: auto;
	  		}
	  		@media only screen and (min-width: 100px) and (max-width: 640px) {
					td, th{
						word-break:keep-all;
		  		}
					.dtr-data{
						display: inline-block;
						word-break: break-all;
					}
	  			.box-header > .box-tools{
	  				position: relative;
	  				margin-left: 10px;
	  			}
					.hidden-480 {
					    display: none!important;
					}
	  		}
	  	</style>
	  	<!-- jQuery 2.2.3 -->
		<script src="../common/js/jquery/jquery-2.2.3.min.js"></script>
		<!-- Bootstrap 3.3.6 -->
		<script src="../common/js/bootstrap/js/bootstrap.min.js"></script>
		<!-- AdminLTE App -->
		<script src="../common/js/app.min.js"></script>
		<!-- date-range-picker -->
		<script src="../common/js/moment/moment.min.js"></script>
		<!-- plugins -->
		<!-- //TODO 注意 time控件需要加入js文件 -->
		<script type="text/javascript" src="../common/plugins/datepicker/bootstrap-datepicker.js"></script>
		<script src="../common/plugins/daterangepicker/daterangepicker.js"></script>
		<!-- DataTables -->
		<!-- //TODO checkbox 需要加入这个文件 iCheck 1.0.1 -->
		<script src="../common/plugins/iCheck/icheck.min.js"></script>
		<script src="../common/plugins/datatables/jquery.dataTables.min.js"></script>
		<script src="../common/plugins/datatables/dataTables.bootstrap.min.js"></script>
		<script src="../common/plugins/datatables/dataTables.responsive.js"></script>
		<script src="../common/js/common.js"></script>
		<!-- <script src="./js/stdManage.js"></script> -->
		<script type="text/javascript">

		tablePackage.filed = [//配置表格各栏参数
				{ "data": "USER_ID",
					"createdCell": function (nTd, sData, oData, iRow, iCol) {
						console.log(sData)
						$(nTd).html("<input type='checkbox' name='checkList' value='" + sData + "'>");
					},
					"head":	"checkbox", "id":"checkAll",
				},
				{ "data": "USER_ID", "head":"用户编码"},
				{ "data": "USER_NAME", "head":"用户名" },
				{ "data": "USER_TYPE_NAME", "head":"用户类型" },
				{ "data": "XY_CODE_NAME", "head":"所属学院" },
				{ "data": "USER_ROLE_NAME", "head":"所属角色" },
				{ "data": "IS_ASSISTANT_NAME", "head":"是否辅导员" },
				{ "data": "CREATE_NAME", "head":"最后操作人" },
                { "data": "CREATE_TIME", "head":"最后操作时间" }
		];
		var gridData = [
			{id:"1",name:"Speakers",position:"note",salary:"No",start_date:"ARAMEX",office:"2007-12-03", extn:"11231",ganraoxiang:"ll"},
			{id:"2",name:"Teachers",position:"note",salary:"No",start_date:"ARAMEX",office:"2007-12-03", extn:"57786"},
			{id:"3",name:"Students",position:"note",salary:"Yes",start_date:"ARAMEX",office:"2007-12-03", extn:"666"},
		];
		//////////////////////////////
		var gridld = [
			{"USER_ID":"20060006","USER_NAME":"陈国华","USER_ROLE":"F,","USER_ROLE_NAME":"班主任或辅导员","XY_CODE":"15","XY_CODE_NAME":"计算机科学与信息工程学院/软件学院","STU_TYPE":"","STU_TYPE_NAME":"","USER_TYPE":"T","USER_TYPE_NAME":"教师","IS_ASSISTANT":"Y","IS_ASSISTANT_NAME":"是","LOGIN_PW":"1","CREATE_CODE":"admin","CREATE_NAME":"郑珍","CREATE_TIME":"2017-07-01 17:37:39"},
			{"USER_ID":"201612700066","USER_NAME":"陈锦","USER_ROLE":"S","USER_ROLE_NAME":"学生","XY_CODE":"17","XY_CODE_NAME":"电子工程学院","STU_TYPE":"B","STU_TYPE_NAME":"本科生","USER_TYPE":"S","USER_TYPE_NAME":"学生","IS_ASSISTANT":"N","IS_ASSISTANT_NAME":"否","LOGIN_PW":"123456","CREATE_CODE":"admin","CREATE_NAME":"郑珍","CREATE_TIME":"2017-07-01 14:57:37"},
			{"USER_ID":"201612700067","USER_NAME":"邓丽艳","USER_ROLE":"S","USER_ROLE_NAME":"学生","XY_CODE":"17","XY_CODE_NAME":"电子工程学院","STU_TYPE":"B","STU_TYPE_NAME":"本科生","USER_TYPE":"S","USER_TYPE_NAME":"学生","IS_ASSISTANT":"N","IS_ASSISTANT_NAME":"否","LOGIN_PW":"123456","CREATE_CODE":"admin","CREATE_NAME":"郑珍","CREATE_TIME":"2017-07-01 14:57:37"},
			{"USER_ID":"201612700068","USER_NAME":"杨承学","USER_ROLE":"S","USER_ROLE_NAME":"学生","XY_CODE":"17","XY_CODE_NAME":"电子工程学院","STU_TYPE":"B","STU_TYPE_NAME":"本科生","USER_TYPE":"S","USER_TYPE_NAME":"学生","IS_ASSISTANT":"N","IS_ASSISTANT_NAME":"否","LOGIN_PW":"123456","CREATE_CODE":"admin","CREATE_NAME":"郑珍","CREATE_TIME":"2017-07-01 14:57:37"},
			{"USER_ID":"201612700069","USER_NAME":"李学下","USER_ROLE":"S","USER_ROLE_NAME":"学生","XY_CODE":"17","XY_CODE_NAME":"电子工程学院","STU_TYPE":"B","STU_TYPE_NAME":"本科生","USER_TYPE":"S","USER_TYPE_NAME":"学生","IS_ASSISTANT":"N","IS_ASSISTANT_NAME":"否","LOGIN_PW":"123456","CREATE_CODE":"admin","CREATE_NAME":"郑珍","CREATE_TIME":"2017-07-01 14:57:37"},
			{"USER_ID":"201612700070","USER_NAME":"谭正华","USER_ROLE":"S","USER_ROLE_NAME":"学生","XY_CODE":"17","XY_CODE_NAME":"电子工程学院","STU_TYPE":"B","STU_TYPE_NAME":"本科生","USER_TYPE":"S","USER_TYPE_NAME":"学生","IS_ASSISTANT":"N","IS_ASSISTANT_NAME":"否","LOGIN_PW":"123456","CREATE_CODE":"admin","CREATE_NAME":"郑珍","CREATE_TIME":"2017-07-01 14:57:37"},
			{"USER_ID":"201612700071","USER_NAME":"唐馨","USER_ROLE":"S","USER_ROLE_NAME":"学生","XY_CODE":"17","XY_CODE_NAME":"电子工程学院","STU_TYPE":"B","STU_TYPE_NAME":"本科生","USER_TYPE":"S","USER_TYPE_NAME":"学生","IS_ASSISTANT":"N","IS_ASSISTANT_NAME":"否","LOGIN_PW":"123456","CREATE_CODE":"admin","CREATE_NAME":"郑珍","CREATE_TIME":"2017-07-01 14:57:37"},
			{"USER_ID":"201612700072","USER_NAME":"杨国莲","USER_ROLE":"S","USER_ROLE_NAME":"学生","XY_CODE":"17","XY_CODE_NAME":"电子工程学院","STU_TYPE":"B","STU_TYPE_NAME":"本科生","USER_TYPE":"S","USER_TYPE_NAME":"学生","IS_ASSISTANT":"N","IS_ASSISTANT_NAME":"否","LOGIN_PW":"123456","CREATE_CODE":"admin","CREATE_NAME":"郑珍","CREATE_TIME":"2017-07-01 14:57:37"},
			{"USER_ID":"201612700073","USER_NAME":"罗红枫","USER_ROLE":"S","USER_ROLE_NAME":"学生","XY_CODE":"17","XY_CODE_NAME":"电子工程学院","STU_TYPE":"B","STU_TYPE_NAME":"本科生","USER_TYPE":"S","USER_TYPE_NAME":"学生","IS_ASSISTANT":"N","IS_ASSISTANT_NAME":"否","LOGIN_PW":"123456","CREATE_CODE":"admin","CREATE_NAME":"郑珍","CREATE_TIME":"2017-07-01 14:57:37"},
			{"USER_ID":"201612700074","USER_NAME":"李萱萱","USER_ROLE":"S","USER_ROLE_NAME":"学生","XY_CODE":"17","XY_CODE_NAME":"电子工程学院","STU_TYPE":"B","STU_TYPE_NAME":"本科生","USER_TYPE":"S","USER_TYPE_NAME":"学生","IS_ASSISTANT":"N","IS_ASSISTANT_NAME":"否","LOGIN_PW":"123456","CREATE_CODE":"admin","CREATE_NAME":"郑珍","CREATE_TIME":"2017-07-01 14:57:37"},
			{"USER_ID":"201612700075","USER_NAME":"比比划","USER_ROLE":"A","USER_ROLE_NAME":"学生","XY_CODE":"17","XY_CODE_NAME":"电子工程学院","STU_TYPE":"B","STU_TYPE_NAME":"本科生","USER_TYPE":"S","USER_TYPE_NAME":"学生","IS_ASSISTANT":"N","IS_ASSISTANT_NAME":"否","LOGIN_PW":"123456","CREATE_CODE":"admin","CREATE_NAME":"郑珍","CREATE_TIME":"2017-07-01 14:57:37"},
		];
		/////////////////////////////////////////////////////
		var tableModalCols = [//弹出层布局label+form<=12，
			{ "data": 'USER_ID', "head":"用户编码", 'label': '4', 'form': '8', 'parent': '6' },
			{ "data": 'USER_NAME', "head":"用户名", 'label': '4', 'form': '8', 'parent': '6' },
			{ "data": 'USER_TYPE_NAME', "head":"用户类型", 'label': '3', 'form': '9', 'parent': '12', 'type':'timeSingle' },
			{ "data": 'XY_CODE_NAME', "head":"所属学院", 'label': '3', 'form': '9', 'parent': '12', 'type': 'textarea', 'pre':"xxxx" },
			{ "data": 'USER_ROLE_NAME', "head":"所属角色", 'label': '3', 'form': '9', 'parent': '12', 'type': 'checkbox'},
			{ "data": 'IS_ASSISTANT_NAME', "head":"是否辅导员", 'label': '3', 'form': '9', 'parent': '12'},//type timeRange
			{ "data": 'CREATE_NAME', "head":"最后操作人", 'label': '3', 'form': '9', 'parent': '12', 'type': "timeRange"},//type timeRange
			{ "data": 'CREATE_TIME', "head":"最后操作时间", 'label': '3', 'form': '9', 'parent': '12'},
		];

		var modalConfigs = {//弹出层配置
			"content":    "content",
			"table":      "dataTable1",
		  "modal":      "dataModal",//弹出层id
		  "delModal":   "delModal",//删除层id
			"title":			"新生录入管理",//弹出层标题
		  "delCol":		["USER_ID","USER_ROLE_NAME",],//删除所需字段
		  "delAction":	'/api/xxxy',//删除url
		  "modalAction":	'/api/xxx',//弹出层url
			"modalSuccess":function(){//回调事件
				console.log('modal call back');
			},
		  "struct":		[//构造弹出层
		  	// {'tabs':"y1x2", 'columns': tableModalCols},//有tab则可以切换
				{'columns': tableModalCols},//没有tab则显示单表格
		  ],
			"eventConfig":	{

			}
		};
		    $(document).ready(function(){
					tablePackage.createOne({
						// hasData:	gridld,//表格数据，
						hasAjax:	{//可ajax ing
							/*~client~*/
							type:"client",//server是服务器分页，client是客户端分页，必须
							url:"json/long.json",//必须
							method:"GET",//默认GET
							/*~server~*/
							// type:"server"
							// url:"/long",
							// method:"POST",
						},
						attrs:		{//表格参数
							tableId:"dataTable1",//表格id
							buttonId:"buttonId",//拓展按钮区域id
							tableTitle:"新生信息管理",
							checkAllId:"checkAll",//全选id
							tableConfig:{
								'pageLength':10,//每页显示个数，默认10条
								'selectSingle':true,//是否单选，默认为true
								'lengthChange':true,//用户改变分页
								//'ordering':true,//是否默认排序，默认为false
							}
						},
						hasSearch:	{
							// "searchBtn":	".btn-search",//search按钮，不写默认
							"cols":[
								{"data":"USER_ID", "pre":"用户编码", "col":1, "type":"input"},//第一个是标识，第二个是预文字，第三是栏目的位置
								{"data":"USER_NAME", "pre":"用户名", "col":2, "type":"select", "options":[{'text':'陈', 'value':'陈'}, {'text':'邓', 'value':'邓'}, {'text':'杨', 'value':'杨'},]},
								{"data":"CREATE_TIME", "pre":"最后操作时间", "col":8, "type":"timeSingle"},
							],
						},
						hasModal:	modalConfigs,//弹出层参数
						hasBtns:	["reload","add","edit","del"],//需要的按钮
						hasCtrl:	{
							"buildModal":	true,//必填，是否动态创建modal层，一般都是true
							// "addBtn":     ".btn-add",//add按钮，不写则默认
							// "editBtn":    ".btn-edit",//edit按钮，不写则默认
							// "delBtn":     ".btn-del",//del按钮，不写则默认
							// "reloadBtn":     ".btn-reload",//reload按钮，不写则默认
						},
					});
					// console.log(tablePackage.table.grid);//这个是datatable对象
		    window.onload = function(){	
		    	if (window.parent) {
	      			setTimeout(function(){
		      			var _pageH = $("body").height();
		      			console.log(_pageH);
		      			var _parentIfm = $('#iframe_box', window.parent.document);
		      			console.log(_parentIfm.height()+' parent h');
		      			if (_parentIfm.height() < _pageH) {
		        			_parentIfm.css({'height':_pageH,'overflow':'hidden',});
		      			} else{
		      				
		      			}
		      			console.log(_parentIfm.height());
	      			}, 200);
	//    			var _parentIfm = $('#iframe_box', window.parent.document);
	//    			if (_parentIfm.height() < _pageH) {
	//      			_parentIfm.css({'height':_pageH+5,});
	//    			} else{
	//    				
	//    			}
	//    			console.log(_parentIfm.height());
	      		}
		    }	
		    });
		</script>
	</head>
	<body class="hold-transition skin-blue sidebar-mini">
		<div class="wrapper">
	  		<!-- S Master -->
	  		<!-- S content -->
	  		<div class="content-wrapper">
				<!-- Content Header -->
			    <!--<section class="content-header">
			      	<h1>
			        	新生录入管理
			      	</h1>
			      	<ol class="breadcrumb">
				        <li><a href="#"><i class="fa fa-dashboard"></i> 主页</a></li>
				        <li><a href="#">新生管理</a></li>
				        <li class="active">新生录入管理</li>
			      	</ol>
			    </section>-->

			    <!-- Main content -->
			    <section class="content" id="content">
			    	<div class="row">
				        <div class="col-xs-12">
				        	<div id="alertDiv"></div>

								<div class="box box-info">

									<table id="dataTable1" class="table table-bordered table-striped table-hover">
										<!--<thead>
										    <tr>
										        <th><input type="checkbox" id="checkAll" /></th>
												<th>用户编码</th>
										        <th>用户名</th>
										        <th>用户类型</th>
										        <th>所属学院</th>
										        <th>所属角色</th>
										        <th>是否辅导员</th>
										        <th>最后操作人</th>
                                                <th>最后操作时间</th>
										    </tr>
										</thead>-->
									</table>
								</div>
				        </div>
				    </div>
			    </section>


	  		</div>
	  		<!-- E content -->
		</div>

	</body>
</html>
